[gd_scene load_steps=19 format=1]

[ext_resource path="res://Levels/001/protolevel.gd" type="Script" id=1]
[ext_resource path="res://Colors/WhiteBox.png" type="Texture" id=2]
[ext_resource path="res://Viewports/BeamManager.tscn" type="PackedScene" id=3]
[ext_resource path="res://Platform/platform.tscn" type="PackedScene" id=4]
[ext_resource path="res://Levels/001/island.png" type="Texture" id=5]
[ext_resource path="res://Crystal/crystal.tscn" type="PackedScene" id=6]
[ext_resource path="res://Character/player.tscn" type="PackedScene" id=7]
[ext_resource path="res://Sounds/Music.tscn" type="PackedScene" id=8]

[sub_resource type="ConvexPolygonShape2D" id=1]

custom_solver_bias = 0.0
points = Vector2Array( -123.05, 195.424, -187.112, 197.685, -187.112, 103.476 )

[sub_resource type="ConvexPolygonShape2D" id=2]

custom_solver_bias = 0.0
points = Vector2Array( 95.5144, -294.462, 188.216, -296.723, 188.97, -169.353, 93.2534, -227.386 )

[sub_resource type="ConvexPolygonShape2D" id=3]

custom_solver_bias = 0.0
points = Vector2Array( -38.6389, 287.371, -123.804, 288.125, -123.05, 195.424, -34.1169, 195.424 )

[sub_resource type="ConvexPolygonShape2D" id=4]

custom_solver_bias = 0.0
points = Vector2Array( 216.855, 172.813, 162.591, 175.828, 161.084, 138.898, 216.102, -66.1001 )

[sub_resource type="ConvexPolygonShape2D" id=5]

custom_solver_bias = 0.0
points = Vector2Array( 111.341, 220.295, 44.2648, 224.063, 42.7575, 194.67, 115.11, 141.159 )

[sub_resource type="ConvexPolygonShape2D" id=6]

custom_solver_bias = 0.0
points = Vector2Array( -141.138, -185.18, -141.138, -292.201, -24.3192, -292.201, -23.5655, -136.191 )

[sub_resource type="ConvexPolygonShape2D" id=7]

custom_solver_bias = 0.0
points = Vector2Array( 57.8309, -139.206, 57.8309, -227.386, 93.2534, -227.386, 188.97, -169.353, 216.102, -66.1001, 161.084, 138.898, 115.11, 141.159 )

[sub_resource type="ConvexPolygonShape2D" id=8]

custom_solver_bias = 0.0
points = Vector2Array( -187.112, 103.476, -250.42, 99.7074, -248.913, -185.18, -141.138, -185.18, -23.5655, -136.191 )

[sub_resource type="ConvexPolygonShape2D" id=9]

custom_solver_bias = 0.0
points = Vector2Array( 259.061, -166.338, 259.061, -67.6074, 216.102, -66.1001, 188.97, -169.353 )

[sub_resource type="ConvexPolygonShape2D" id=10]

custom_solver_bias = 0.0
points = Vector2Array( -187.112, 103.476, -23.5655, -136.191, 57.8309, -139.206, 115.11, 141.159, 42.7575, 194.67, -34.1169, 195.424, -123.05, 195.424 )

[node name="protolevel" type="Node2D"]

script/script = ExtResource( 1 )

[node name="bg" type="Sprite" parent="."]

transform/pos = Vector2( 20.4515, -29.6677 )
transform/scale = Vector2( 97.3299, 66.34 )
texture = ExtResource( 2 )

[node name="BeamManager" parent="." instance=ExtResource( 3 )]

transform/rot = 24.0
transform/scale = Vector2( 2.1, 1.5 )
speed = -250

[node name="platforms" type="Node2D" parent="."]

editor/display_folded = true

[node name="platform" parent="platforms" instance=ExtResource( 4 )]

transform/pos = Vector2( 127.475, 655.068 )
color_dimension = 34

[node name="platform1" parent="platforms" instance=ExtResource( 4 )]

transform/pos = Vector2( 132.95, 962.652 )

[node name="platform2" parent="platforms" instance=ExtResource( 4 )]

transform/pos = Vector2( 457.934, 959.164 )
use_timers = true

[node name="platform3" parent="platforms" instance=ExtResource( 4 )]

transform/pos = Vector2( -745.053, -216.676 )
use_timers = true

[node name="platform4" parent="platforms" instance=ExtResource( 4 )]

transform/pos = Vector2( 660.548, 32.3768 )
color_dimension = 2

[node name="platform5" parent="platforms" instance=ExtResource( 4 )]

transform/pos = Vector2( 1023.97, 28.3169 )
color_dimension = 4

[node name="platform7" parent="platforms" instance=ExtResource( 4 )]

transform/pos = Vector2( 1025.64, -336.405 )
color_dimension = 8

[node name="platform8" parent="platforms" instance=ExtResource( 4 )]

transform/pos = Vector2( 1561.37, -322.483 )
transform/scale = Vector2( 3, 3 )
color_dimension = 0

[node name="platform9" parent="platforms" instance=ExtResource( 4 )]

transform/pos = Vector2( 1525.49, 161.179 )
color_dimension = 32

[node name="platform10" parent="platforms" instance=ExtResource( 4 )]

transform/pos = Vector2( 1754.97, -686.304 )
color_dimension = 64

[node name="island" type="Area2D" parent="." groups=[
"ground",
]]

transform/scale = Vector2( 2, 2 )
input/pickable = true
shapes/0/shape = SubResource( 1 )
shapes/0/transform = Matrix32( 1, 0, 0, 1, 0, 0 )
shapes/0/trigger = false
shapes/1/shape = SubResource( 2 )
shapes/1/transform = Matrix32( 1, 0, 0, 1, 0, 0 )
shapes/1/trigger = false
shapes/2/shape = SubResource( 3 )
shapes/2/transform = Matrix32( 1, 0, 0, 1, 0, 0 )
shapes/2/trigger = false
shapes/3/shape = SubResource( 4 )
shapes/3/transform = Matrix32( 1, 0, 0, 1, 0, 0 )
shapes/3/trigger = false
shapes/4/shape = SubResource( 5 )
shapes/4/transform = Matrix32( 1, 0, 0, 1, 0, 0 )
shapes/4/trigger = false
shapes/5/shape = SubResource( 6 )
shapes/5/transform = Matrix32( 1, 0, 0, 1, 0, 0 )
shapes/5/trigger = false
shapes/6/shape = SubResource( 7 )
shapes/6/transform = Matrix32( 1, 0, 0, 1, 0, 0 )
shapes/6/trigger = false
shapes/7/shape = SubResource( 8 )
shapes/7/transform = Matrix32( 1, 0, 0, 1, 0, 0 )
shapes/7/trigger = false
shapes/8/shape = SubResource( 9 )
shapes/8/transform = Matrix32( 1, 0, 0, 1, 0, 0 )
shapes/8/trigger = false
shapes/9/shape = SubResource( 10 )
shapes/9/transform = Matrix32( 1, 0, 0, 1, 0, 0 )
shapes/9/trigger = false
gravity_vec = Vector2( 0, 1 )
gravity = 98.0
linear_damp = 0.1
angular_damp = 1.0

[node name="sprite" type="Sprite" parent="island"]

visibility/light_mask = 0
transform/pos = Vector2( -12.674, -6.64453 )
transform/scale = Vector2( 0.167037, 0.167037 )
texture = ExtResource( 5 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="island"]

visibility/visible = false
build_mode = 0
polygon = Vector2Array( -248.913, -185.18, -141.138, -185.18, -141.138, -292.201, -24.3192, -292.201, -23.5655, -136.191, 57.8309, -139.206, 57.8309, -227.386, 93.2534, -227.386, 95.5144, -294.462, 188.216, -296.723, 188.97, -169.353, 259.061, -166.338, 259.061, -67.6074, 216.102, -66.1001, 216.855, 172.813, 162.591, 175.828, 161.084, 138.898, 115.11, 141.159, 111.341, 220.295, 44.2648, 224.063, 42.7575, 194.67, -34.1169, 195.424, -38.6389, 287.371, -123.804, 288.125, -123.05, 195.424, -187.112, 197.685, -187.112, 103.476, -250.42, 99.7074 )
shape_range = Vector2( 0, 9 )
trigger = false

[node name="crystal" parent="." instance=ExtResource( 6 )]

transform/pos = Vector2( 292.424, -218.564 )
crystal_color = 2
player_path = NodePath("../player")

[node name="player" parent="." instance=ExtResource( 7 )]

editor/display_folded = true
transform/scale = Vector2( 0.5, 0.5 )
colors_learned = 124

[node name="Camera2D" type="Camera2D" parent="player"]

anchor_mode = 1
rotating = false
current = true
zoom = Vector2( 1, 1 )
limit/left = -10000000
limit/top = -10000000
limit/right = 10000000
limit/bottom = 10000000
drag_margin/h_enabled = true
drag_margin/v_enabled = true
smoothing/enable = false
smoothing/speed = 5.0
drag_margin/left = 0.2
drag_margin/top = 0.2
drag_margin/right = 0.2
drag_margin/bottom = 0.2

[node name="Timer" type="Timer" parent="."]

process_mode = 1
wait_time = 5.0
one_shot = true
autostart = false

[node name="SamplePlayer2D" parent="." instance=ExtResource( 8 )]

[connection signal="timeout" from="Timer" to="player" method="learn_color" binds= [ 4 ]]


